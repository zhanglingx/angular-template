define(function(){function r(r,e){r[e>>5]|=128<<24-e%32,r[(e+64>>9<<4)+15]=e;for(var o=Array(80),c=1732584193,f=-271733879,h=-1732584194,i=271733878,g=-1009589776,v=0;v<r.length;v+=16){for(var l=c,A=f,s=h,_=i,y=g,d=0;80>d;d++){o[d]=16>d?r[v+d]:u(o[d-3]^o[d-8]^o[d-14]^o[d-16],1);var m=a(a(u(c,5),n(d,f,h,i)),a(a(g,o[d]),t(d)));g=i,i=h,h=u(f,30),f=c,c=m}c=a(c,l),f=a(f,A),h=a(h,s),i=a(i,_),g=a(g,y)}return Array(c,f,h,i,g)}function n(r,n,t,e){return 20>r?n&t|~n&e:40>r?n^t^e:60>r?n&t|n&e|t&e:n^t^e}function t(r){return 20>r?1518500249:40>r?1859775393:60>r?-1894007588:-899497514}function e(n,t){var e=o(n);e.length>16&&(e=r(e,n.length*v));for(var a=Array(16),u=Array(16),c=0;16>c;c++)a[c]=909522486^e[c],u[c]=1549556828^e[c];var f=r(a.concat(o(t)),512+t.length*v);return r(u.concat(f),672)}function a(r,n){var t=(65535&r)+(65535&n),e=(r>>16)+(n>>16)+(t>>16);return e<<16|65535&t}function u(r,n){return r<<n|r>>>32-n}function o(r){for(var n=Array(),t=(1<<v)-1,e=0;e<r.length*v;e+=v)n[e>>5]|=(r.charCodeAt(e/v)&t)<<32-v-e%32;return n}function c(r){for(var n="",t=(1<<v)-1,e=0;e<32*r.length;e+=v)n+=String.fromCharCode(r[e>>5]>>>32-v-e%32&t);return n}function f(r){for(var n=i?"0123456789ABCDEF":"0123456789abcdef",t="",e=0;e<4*r.length;e++)t+=n.charAt(r[e>>2]>>8*(3-e%4)+4&15)+n.charAt(r[e>>2]>>8*(3-e%4)&15);return t}function h(r){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="",e=0;e<4*r.length;e+=3)for(var a=(r[e>>2]>>8*(3-e%4)&255)<<16|(r[e+1>>2]>>8*(3-(e+1)%4)&255)<<8|r[e+2>>2]>>8*(3-(e+2)%4)&255,u=0;4>u;u++)t+=8*e+6*u>32*r.length?g:n.charAt(a>>6*(3-u)&63);return t}var i=0,g="",v=8,l={hex_sha1:function(n){return f(r(o(n),n.length*v))},b64_sha1:function(n){return h(r(o(n),n.length*v))},str_sha1:function(n){return c(r(o(n),n.length*v))},hex_hmac_sha1:function(r,n){return f(e(r,n))},b64_hmac_sha1:function(r,n){return h(e(r,n))},str_hmac_sha1:function(r,n){return c(e(r,n))}};return l});